<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>rspike</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>6</depth>
  <persistent>0</persistent>
  <parentName>trapparent</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>rot=0

movable=0
if place_meeting(x,y,platformtrack){movable=1}
movemode=choose(0,1)
sp=1.5

a=distance_to_object(spinner)
spinspeed=0.5
trail=distance_to_object(spinner)/23

active=1
image_angle=random_range(-30,30)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//motion_add(point_direction(x,y,player.x,player.y),0.5)
   // if (speed &gt; 4)
   // {
   //     speed = 4;
   // }
image_speed=0
    
rot=point_direction(x,y,player.x,player.y);

if movable=1
{
if movemode=0
{
vspeed=sp
if (!place_meeting(x,y+128,platformtrack)){movemode=2}
}

if movemode=1
{
vspeed=-sp
if (!place_meeting(x,y-128,platformtrack)){movemode=3;}
}

if movemode=2{vspeed=sp sp-=0.025 if sp&lt;=0 {movemode=4}}
if movemode=3{vspeed=-sp sp-=0.025 if sp&lt;=0 {movemode=5}}
if movemode=4{vspeed=-sp sp+=0.025 if sp&gt;=1.5 {movemode=1}}
if movemode=5{vspeed=+sp sp+=0.025 if sp&gt;=1.5 {movemode=0}}
}

if movable=2
{
if instance_exists(spinner)
{
x=spinner.x+lengthdir_x(a,point_direction(spinner.x,spinner.y,x,y)+spinspeed)
y=spinner.y+lengthdir_y(a,point_direction(spinner.x,spinner.y,x,y)+spinspeed)
}
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="lightballpar">
      <action>
        <libid>1</libid>
        <id>203</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_kill_object</functionname>
        <codestring></codestring>
        <whoName>other</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var width;
width=sprite_get_width(rspikesmallchain)

var a = collision_line(x,y,x,-128,o_lvl1block, false, false)
var atrail=distance_to_object(a)/23+2;
var dirr=point_direction(a.x,a.y,x,y)
 
if (a != noone) 
{
if movable=0
{
for (loop=0; loop&lt;=atrail; loop+=1) 
{
draw_sprite_ext(rspikesmallchain,0,lengthdir_x(loop*-width,dirr)+x,lengthdir_y(loop*-width,dirr)+y,1,1,dirr,c_white,1)}
}
}

var wd=point_direction(x,-64,x,y)
if movable=1
{
for (loop=0; loop&lt;=60; loop+=1) {draw_sprite_ext(rspikesmallchain,0,lengthdir_x(loop*-width,wd)+x,lengthdir_y(loop*-width,wd)+y,1,1,wd,c_white,1)}
}

if movable=2
{
var spd=point_direction(spinner.x,spinner.y,x,y)
for (loop=0; loop&lt;=trail; loop+=1) {draw_sprite_ext(rspikesmallchain,0,lengthdir_x(loop*-width,spd)+x,lengthdir_y(loop*-width,spd)+y,1,1,spd,c_white,1)}
}

draw_self();
draw_sprite_ext(rspikeeye,2,x,y,1,1,rot,c_white,1)
if (rot&gt;=320 or rot&lt;40 or rot&gt;=140 and rot&lt;220) {draw_sprite(rspikeeyeup,5,x,y)}
if (rot&gt;=40 and rot&lt;50 or rot&gt;=310 and rot&lt;320 or rot&gt;=220 and rot&lt;230 or rot&gt;=130 and rot&lt;140) {draw_sprite(rspikeeyeup,4,x,y)}
if (rot&gt;=50 and rot&lt;60 or rot&gt;=300 and rot&lt;310 or rot&gt;=230 and rot&lt;240 or rot&gt;=120 and rot&lt;130) {draw_sprite(rspikeeyeup,3,x,y)}
if (rot&gt;=60 and rot&lt;70 or rot&gt;=290 and rot&lt;300 or rot&gt;=240 and rot&lt;250 or rot&gt;=110 and rot&lt;120) {draw_sprite(rspikeeyeup,2,x,y)}
if (rot&gt;=70 and rot&lt;80 or rot&gt;=280 and rot&lt;290 or rot&gt;=250 and rot&lt;260 or rot&gt;=100 and rot&lt;110) {draw_sprite(rspikeeyeup,1,x,y)}
if (rot&gt;=80 and rot&lt;90 or rot&gt;=270 and rot&lt;280 or rot&gt;=260 and rot&lt;270 or rot&gt;=90 and rot&lt;100) {draw_sprite(rspikeeyeup,0,x,y)}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
