<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>locomotive</spriteName>
  <solid>-1</solid>
  <visible>-1</visible>
  <depth>1</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>sped=6
rot=0

Sname = part_system_create();
particle1 = part_type_create();
part_type_shape(particle1,pt_shape_smoke);
part_type_size(particle1,0.01,1,0.01,0);
part_type_scale(particle1,1,1);
part_type_color3(particle1,8421504,12693930,16777215);
part_type_alpha3(particle1,0,0.5,0);
part_type_speed(particle1,3,6,-0.10,0);
part_type_direction(particle1,80,120,0.10,0);
part_type_gravity(particle1,0.05,180);
part_type_orientation(particle1,0,0,0,0,0);
part_type_blend(particle1,0);
part_type_life(particle1,60,60);
emitter1 = part_emitter_create(Sname);

m=0;
k2=0;
sleeptimer=0
simg=0

mode=0

timer=0

locco=0
loccotimer=0
loccoimg=0

locco2=0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if sped&gt;0 and locco2=0
{
sped-=0.025 
motion_set(0,sped)
rot-=sped*3

part_emitter_region(Sname,emitter1,x+350,x+370,y+130,y+130,1,1);
part_emitter_stream(Sname,emitter1,particle1,1);
}

if locco2=1 and loccotimer&gt;=50
{
sped+=0.1 
motion_set(0,sped)
rot-=sped*3

part_emitter_region(Sname,emitter1,x+350,x+370,y+130,y+130,1,1);
part_emitter_stream(Sname,emitter1,particle1,1);
}

if x&gt;room_width {instance_destroy()}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_sprite_ext(locomotive,0,x,y,image_xscale, image_yscale,image_angle,c_white,1)
draw_sprite_ext(loc_wheel,1,x+48,y+290,1,1,rot,c_white,1)
draw_sprite_ext(loc_wheel,1,x+113,y+290,1,1,rot,c_white,1)
draw_sprite_ext(loc_stick,1,x+48+lengthdir_x(3,rot),y+290+lengthdir_y(3,rot),1,1,0,c_white,1)
draw_sprite_ext(loc_wheel,1,x+293,y+290,1,1,rot,c_white,1)
draw_sprite_ext(loc_wheel,1,x+358,y+290,1,1,rot,c_white,1)
draw_sprite_ext(loc_stick,1,x+293+lengthdir_x(3,rot),y+290+lengthdir_y(3,rot),1,1,0,c_white,1)


draw_sprite_ext(loc_wheel,0,x+48,y+293,1,1,rot,c_white,1)
draw_sprite_ext(loc_wheel,0,x+113,y+293,1,1,rot,c_white,1)
draw_sprite_ext(loc_stick,0,x+48+lengthdir_x(3,rot),y+293+lengthdir_y(3,rot),1,1,0,c_white,1)
draw_sprite_ext(loc_wheel,0,x+293,y+293,1,1,rot,c_white,1)
draw_sprite_ext(loc_wheel,0,x+358,y+293,1,1,rot,c_white,1)
draw_sprite_ext(loc_stick,0,x+293+lengthdir_x(3,rot),y+293+lengthdir_y(3,rot),1,1,0,c_white,1)

draw_sprite_ext(loco,loccoimg,x+173,y+175,image_xscale,image_yscale,image_angle,c_white,1)

if sleeptimer&lt;50 {draw_sprite_ext(s_sleeping,simg,x+46,y+189,1,1,0,c_white,1)}



if sped&lt;=0 
{
if timer=0 {if !instance_exists(dialogue) 
{
a1=instance_create(x,y,dialogue) a1.dialogpic=0 a1.position=835 a1.dialogtext='Ваша остановка, мадемаузель!' a1.textpos=50
}
}
if timer=0 and instance_exists(dialogue) and keyboard_check_pressed(vk_space) {with(a1){ delete=true} timer=1}
if timer=1
{
sleeptimer++
if sleeptimer&gt;=0 and sleeptimer&lt;3 {simg=1}
if sleeptimer&gt;=3 and sleeptimer&lt;6 {simg=2}
if sleeptimer&gt;=6 and sleeptimer&lt;9 {simg=3}
if sleeptimer&gt;=9 and sleeptimer&lt;20 {simg=4}
if sleeptimer&gt;=20 and sleeptimer&lt;23 {simg=5}
if sleeptimer&gt;=23 and sleeptimer&lt;26 {simg=6}
if sleeptimer&gt;=26 and sleeptimer&lt;50 {simg=7}
if sleeptimer=50 {instance_create(x+46,y+199,player_sleepfall)}
}
}

if locco=1
{
loccotimer++
if loccotimer&gt;=0 and loccotimer&lt;3 {loccoimg=1}
if loccotimer&gt;=3 and loccotimer&lt;6 {loccoimg=2}
if loccotimer&gt;=6 and loccotimer&lt;9 {loccoimg=3}
if loccotimer&gt;=9 and loccotimer&lt;12 {loccoimg=4}
if loccotimer&gt;=12 and loccotimer&lt;15 {loccoimg=5}
if loccotimer&gt;=15 and loccotimer&lt;18 {loccoimg=6}
if loccotimer&gt;=18 and loccotimer&lt;21 {loccoimg=7}
if loccotimer&gt;=21 and loccotimer&lt;24 {loccoimg=8}
if loccotimer&gt;=24 and loccotimer&lt;27 {loccoimg=9}
if loccotimer&gt;=27 and loccotimer&lt;120 {loccoimg=12}
if loccotimer&gt;=120 and loccotimer&lt;123 {loccoimg=11}
if loccotimer&gt;=123 and loccotimer&lt;126 {loccoimg=10}
if loccotimer&gt;=126 and loccotimer&lt;129 {loccoimg=11}
if loccotimer&gt;=129 {loccoimg=12; loccotimer=choose(35,40,45,55,60)}
}

if locco2=1
{
loccotimer++
if loccotimer&gt;=0 and loccotimer&lt;3 {loccoimg=9}
if loccotimer&gt;=3 and loccotimer&lt;6 {loccoimg=8}
if loccotimer&gt;=6 and loccotimer&lt;9 {loccoimg=7}
if loccotimer&gt;=9 and loccotimer&lt;12 {loccoimg=6}
if loccotimer&gt;=12 and loccotimer&lt;15 {loccoimg=5}
if loccotimer&gt;=15 and loccotimer&lt;18 {loccoimg=4}
if loccotimer&gt;=18 and loccotimer&lt;21 {loccoimg=3}
if loccotimer&gt;=21 and loccotimer&lt;24 {loccoimg=2}
if loccotimer&gt;=24 and loccotimer&lt;27 {loccoimg=1}
if loccotimer&gt;=27 
{
loccoimg=0
with(player_sleepfall){c=instance_create(x, y, player) c.action=false instance_destroy()}
}
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
